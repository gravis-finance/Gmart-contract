# Gravis Finance Contracts Gmart:

Three Gmart contracts are currently in use. The V1 contract is used for our collection contracts. Contract V3 is used to sell the standard collection ERC721.

Gmart URL: https://gmart.io/collections?network=56


### Contracts deployment cost

```
·--------------------------------------------|---------------------------|-------------|-----------------------------·
|            Solc version: 0.6.12            ·  Optimizer enabled: true  ·  Runs: 200  ·  Block limit: 12450000 gas  │
·············································|···························|·············|······························
|  Methods                                   ·              100 gwei/gas               ·       2140.62 usd/eth       │
······················|······················|·············|·············|·············|···············|··············
|  GravisTradingPost  ·  cancelOrder         ·      41504  ·      53007  ·      45338  ·            3  ·       9.71  │
······················|······················|·············|·············|·············|···············|··············
|  GravisTradingPost  ·  changeFee           ·          -  ·          -  ·      14335  ·            1  ·       3.07  │
······················|······················|·············|·············|·············|···············|··············
|  GravisTradingPost  ·  changeFeeRecipient  ·      29129  ·      29141  ·      29137  ·            3  ·       6.24  │
······················|······················|·············|·············|·············|···············|··············
|  GravisTradingPost  ·  fillOrder           ·     101579  ·     138453  ·     115552  ·           13  ·      24.74  │
······················|······················|·············|·············|·············|···············|··············
|  GravisTradingPost  ·  pause               ·          -  ·          -  ·      28067  ·            4  ·       6.01  │
······················|······················|·············|·············|·············|···············|··············
|  GravisTradingPost  ·  placeOrder          ·     199812  ·     244294  ·     236511  ·           30  ·      50.63  │
······················|······················|·············|·············|·············|···············|··············
|  GravisTradingPost  ·  unpause             ·          -  ·          -  ·      28006  ·            2  ·       6.00  │
······················|······················|·············|·············|·············|···············|··············
|  GravisTradingPost  ·  updateOrder         ·          -  ·          -  ·      51940  ·            2  ·      11.12  │
······················|······················|·············|·············|·············|···············|··············
|  Deployments                               ·                                         ·  % of limit   ·             │
·············································|·············|·············|·············|···············|··············
|  GravisTradingPost                         ·    2236294  ·    2236306  ·    2236304  ·         18 %  ·     478.71  │
·--------------------------------------------|-------------|-------------|-------------|---------------|-------------·
```

### Test coverage report

```
-------------------------|----------|----------|----------|----------|----------------|
File                     |  % Stmts | % Branch |  % Funcs |  % Lines |Uncovered Lines |
-------------------------|----------|----------|----------|----------|----------------|
 contracts/              |      100 |    86.67 |      100 |      100 |                |
  GravisTradingPost.sol  |      100 |    86.67 |      100 |      100 |                |
 contracts/interfaces/   |      100 |      100 |      100 |      100 |                |
  IGravisCollectible.sol |      100 |      100 |      100 |      100 |                |
-------------------------|----------|----------|----------|----------|----------------|
All files                |      100 |    86.67 |      100 |      100 |                |
-------------------------|----------|----------|----------|----------|----------------|
```

### Deploy Exchange

To change deploy args edit [src/constants.ts](src/constants.ts)

```
yarn deploy --network bsctest --tags ExchangeV1

```

```
yarn deploy --network bsctest --tags ExchangeV2
```

### Upgrade Exchange

```
EXCHANGE_ADDRESS=<exchange proxy address> yarn deploy --network bsctest --tags ExchangeV2_1

```

```
EXCHANGE_ADDRESS=<exchange proxy address> yarn deploy --network bsctest --tags ExchangeV3_1
```
